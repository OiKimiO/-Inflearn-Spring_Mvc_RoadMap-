### 날짜 : 2023-03-28 17:51
### 주제 :
---
### 태그
* 

### 메모
![[Pasted image 20230328170819.png]]
1.  테스트에 @Transactional 애노테이션이 테스트 메서드나 클래스에 있으면 먼저 트랜잭션을 시작
2. 테스트를 로직을 실행한다. 테스트가 끝날 때 까지 모든 로직은 트랜잭션 안에서 수행
	* 트래잭션은 기본적으로 전파되기 때문에, 리포지토리에서 사용하는 JdbcTemplate도 같은 트랜잭션을 사용
3. 테스트 실행 중에 INSERT SQL을 사용해서 item1 , item2 , item3 를 데이터베이스에 저장
	* 물론 테스트가 리포지토리를 호출하고, 리포지토리는 JdbcTemplate을 사용해서 데이터를 저장
4. 검증을 위해서 SELECT SQL로 데이터를 조회, 여기서는 앞서 저장한 item1 , item2 , item3 이 조회
	* SELECT SQL도 같은 트랜잭션을 사용하기 때문에 저장한 데이터를 조회 가능 다른 트랜잭션에서는 해당 데이터를 확인할 수 없음.
	* assertThat() 으로 검증이 모두 끝남
5. @Transactional 이 테스트에 있으면 테스트가 끝날때 트랜잭션을 강제로 롤백
6. 롤백에 의해 앞서 데이터베이스에 저장한 item1 , item2 , item3 의 데이터가 제거

### 출처(참고문헌)
-  

### 연결문서
- 